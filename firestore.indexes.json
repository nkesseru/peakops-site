{
  "indexes": [
    /* ---------- JOBS ---------- */
    {
      "collectionGroup": "jobs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",      "order": "ASCENDING" },
        { "fieldPath": "status",     "order": "ASCENDING" },
        { "fieldPath": "scheduledStart", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "jobs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",      "order": "ASCENDING" },
        { "fieldPath": "status",     "order": "ASCENDING" },
        { "fieldPath": "updatedAt",  "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "jobs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",      "order": "ASCENDING" },
        { "fieldPath": "phase",      "order": "ASCENDING" },
        { "fieldPath": "updatedAt",  "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "jobs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",      "order": "ASCENDING" },
        { "fieldPath": "siteId",     "order": "ASCENDING" },
        { "fieldPath": "status",     "order": "ASCENDING" },
        { "fieldPath": "scheduledStart", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "jobs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",      "order": "ASCENDING" },
        { "fieldPath": "crewId",     "order": "ASCENDING" },
        { "fieldPath": "scheduledStart", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "jobs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",      "order": "ASCENDING" },
        { "fieldPath": "region",     "order": "ASCENDING" },
        { "fieldPath": "scheduledStart", "order": "ASCENDING" }
      ]
    },

    /* ---------- WORK ORDERS ---------- */
    {
      "collectionGroup": "workOrders",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",     "order": "ASCENDING" },
        { "fieldPath": "status",    "order": "ASCENDING" },
        { "fieldPath": "updatedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "workOrders",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",  "order": "ASCENDING" },
        { "fieldPath": "faCode", "order": "ASCENDING" },
        { "fieldPath": "status", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "workOrders",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "iwm",   "order": "ASCENDING" },
        { "fieldPath": "status","order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "workOrders",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "ptn",   "order": "ASCENDING" },
        { "fieldPath": "status","order": "ASCENDING" }
      ]
    },

    /* ---------- FLAGS ---------- */
    {
      "collectionGroup": "flags",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",     "order": "ASCENDING" },
        { "fieldPath": "status",    "order": "ASCENDING" },
        { "fieldPath": "severity",  "order": "DESCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "flags",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",     "order": "ASCENDING" },
        { "fieldPath": "resolved",  "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },

    /* ---------- SITES / LOCATIONS ---------- */
    {
      "collectionGroup": "locations",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",  "order": "ASCENDING" },
        { "fieldPath": "region", "order": "ASCENDING" },
        { "fieldPath": "name",   "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "locations",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",  "order": "ASCENDING" },
        { "fieldPath": "faCode", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "locations",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "usid",  "order": "ASCENDING" }
      ]
    },

    /* ---------- CREWS ---------- */
    {
      "collectionGroup": "crews",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "name",  "order": "ASCENDING" }
      ]
    },

    /* ---------- USERS ---------- */
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",       "order": "ASCENDING" },
        { "fieldPath": "role",        "order": "ASCENDING" },
        { "fieldPath": "displayName", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "email", "order": "ASCENDING" }
      ]
    },

    /* ---------- PHOTOS (evidence) ---------- */
    {
      "collectionGroup": "photos",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",     "order": "ASCENDING" },
        { "fieldPath": "jobId",     "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "photos",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",     "order": "ASCENDING" },
        { "fieldPath": "woId",      "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "photos",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "labels", "arrayConfig": "CONTAINS" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },

    /* ---------- TIME LOGS ---------- */
    {
      "collectionGroup": "timeLogs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",    "order": "ASCENDING" },
        { "fieldPath": "uid",      "order": "ASCENDING" },
        { "fieldPath": "startedAt","order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "timeLogs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",    "order": "ASCENDING" },
        { "fieldPath": "jobId",    "order": "ASCENDING" },
        { "fieldPath": "startedAt","order": "DESCENDING" }
      ]
    },

    /* ---------- INVOICES ---------- */
    {
      "collectionGroup": "invoices",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",     "order": "ASCENDING" },
        { "fieldPath": "status",    "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "invoices",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",  "order": "ASCENDING" },
        { "fieldPath": "woId",   "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },

    /* ---------- COMPLIANCE ---------- */
    {
      "collectionGroup": "complianceRecords",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",    "order": "ASCENDING" },
        { "fieldPath": "woId",     "order": "ASCENDING" },
        { "fieldPath": "createdAt","order": "DESCENDING" }
      ]
    },

    /* ---------- EVENTS (telemetry/audit) ---------- */
    {
      "collectionGroup": "events",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "type",  "order": "ASCENDING" },
        { "fieldPath": "ts",    "order": "DESCENDING" }
      ]
    },

    /* ---------- DAILY SNAPSHOTS ---------- */
    {
      "collectionGroup": "dailySnapshots",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "date",  "order": "DESCENDING" }
      ]
    },

    /* ---------- FIELD FORMS ---------- */
    {
      "collectionGroup": "fieldForms",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId",    "order": "ASCENDING" },
        { "fieldPath": "type",     "order": "ASCENDING" },
        { "fieldPath": "createdAt","order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "fieldForms",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "orgId", "order": "ASCENDING" },
        { "fieldPath": "jobId", "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    }
  ],
  "fieldOverrides": [
    { "collectionGroup": "fieldForms",        "fieldPath": "payload", "indexes": [] },
    { "collectionGroup": "complianceRecords", "fieldPath": "report",  "indexes": [] },
    { "collectionGroup": "events",            "fieldPath": "payload", "indexes": [] },
    { "collectionGroup": "photos",            "fieldPath": "exif",    "indexes": [] }
  ]
}
